<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <link rel="stylesheet"
        href="https://www.me-content.com/mec/system/compiledresources/frameworks/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.me-content.com/mec/system/compiledResources/UIKit/css/uikit.min.css" />
    <script src="https://kit.fontawesome.com/cb64bb34fd.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script
        src="https://www.me-content.com/mec/system/compiledresources/frameworks/bootstrap/dist/js/bootstrap.bundle.min.js">
    </script>
    <script src="https://www.me-content.com/mec/system/compiledResources/UIKit/js/uikit.min.js"></script>
    <script src="https://www.me-content.com/mec/system/compiledResources/UIKit/js/uikit-icons.min.js"></script>
    <link rel="stylesheet"
        href="https://www.me-content.com/mec/system/compiledResources/flatpickr/dist/flatpickr.min.css">
    <script src="https://www.me-content.com/mec/system/compiledResources/flatpickr/dist/flatpickr.min.js"></script>
    <link rel="stylesheet" href="./styles/totalComp.css">

</head>

<body>
    <div class="uk-section uk-section-secondary uk-section-large uk-width-1-1 uk-position-fixed"></div>
    <div class="uk-section uk-section-secondary uk-section-small uk-position-relative uk-position-z-index ">
        <div class="uk-container">
            <div class="uk-text-large">
                Total Compensation Statement
            </div>
        </div>
    </div>
    <div class="uk-section uk-section-small uk-section-de uk-position-relative">
        <div class="uk-container">
            <div id="totCompForm">
                <ul id="totalCompAccord" uk-accordion="multiple: true">
                    <li class="uk-open me-accordion-card uk-border-rounded  uk-open uk-overflow-auto">
                        <a class="uk-accordion-title me-accordion-title uk-padding-small" href="#">Step 1: Let us know a
                            little about the Employee</a>
                        <div class="uk-accordion-content me-accordion-content uk-padding-small">
                            <div class="uk-grid-small uk-child-width-expand" uk-grid>
                                <div>
                                    <div class="uk-grid-small" uk-grid>
                                        <h3 class="uk-card-title uk-width-1-1">
                                            Employee Information
                                        </h3>
                                        <div class="uk-width-2-5@m">
                                            <div>
                                                <label for="" class="uk-form-label">First Name</label>
                                                <input id="firstNameInput" type="text" class="uk-input uk-box"
                                                    placeholder="First Name">
                                            </div>
                                        </div>
                                        <div class="uk-width-1-5@m">
                                            <div>
                                                <label for="" class="uk-form-label">Middle Initial</label>
                                                <input id="middleNameInput" type="text" class="uk-input"
                                                    placeholder="M.I." maxlength="1">
                                            </div>
                                        </div>
                                        <div class="uk-width-2-5@m">
                                            <div>
                                                <label for="" class="uk-form-label">Last Name</label>
                                                <input id="lastNameInput" type="text" class="uk-input"
                                                    placeholder="Last Name">
                                            </div>
                                        </div>
                                        <div class="uk-width-1-1@m">
                                            <div>
                                                <label for="" class="uk-form-label">Email Address</label>
                                                <input type="email" class="uk-input uk-box" placeholder="Email Address">
                                            </div>
                                        </div>
                                        <div class="uk-width-1-1 uk-margin">
                                            <div class="uk-width-expand@m">
                                                <div>
                                                    <label for="" class="uk-form-label">Base Salary</label>
                                                    <input type="text" name="currency-field" id="currency-field"
                                                        pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" value=""
                                                        data-type="currency" placeholder="$1,000,000.00"
                                                        class="uk-input">
                                                </div>
                                            </div>
                                            <div class="uk-width-1-1 uk-margin">
                                                <div class="uk-child-width-auto" uk-grid>
                                                    <div class="uk-width-1-1">
                                                        <label for="" class="uk-form-label">
                                                            Employee Status
                                                        </label>
                                                    </div>
                                                    <div v-for="status in compStatus" class="uk-margin-small-top">
                                                        <input :id="'statusSel' + status.Status_code"
                                                            :value="status.Status" class="uk-radio" type="radio"
                                                            name="statusSel">
                                                        <label :for="'statusSel' + status.Status_code">
                                                            {{ status.Status }}
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>


                                    </div>
                                    <div class="uk-grid-small" uk-grid>
                                        <div class="uk-width-1-3@m">
                                            <div>
                                                <label for="" class="uk-form-label">Locality</label>
                                                <select class="uk-select" id="localityDrop">
                                                    <option disabled hidden selected>Please Select a Locality...
                                                    </option>
                                                    <option v-for="locale in compLocality" :value="locale.Local_perc">
                                                        {{ locale.Local_name }}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="uk-width-1-3@m">
                                            <div>
                                                <label for="" class="uk-form-label">Retirement Plan</label>
                                                <select class="uk-select" id="retirementDrop">
                                                    <option disabled hidden selected>Please Select a Retirement
                                                        Plan...</option>

                                                    <option v-for="RP in compRetirement"
                                                        :data-ee-value="RP.EE_BWK_CONT_PERC"
                                                        :data-er-value="RP.ER_BWK_CONT_PERC">{{ RP.PLAN }}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="uk-width-1-3@m">
                                            <div>
                                                <label for="" class="uk-form-label">Benefits Class</label>
                                                <select class="uk-select" id="classDrop">
                                                    <option disabled hidden selected>Please Select a Beneifts
                                                        Class...</option>

                                                    <option v-for="classes in compClasses" :value="classes.Class_Code">
                                                        {{ classes.Class_Name }}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-width-1-1 uk-text-right">
                                    <button class="uk-button uk-border-pill uk-button-primary" type="button"
                                        @click="runReport">
                                        Run Report <i class="fad fa-chart-pie"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="me-accordion-card uk-border-rounded  uk-overflow-auto">
                        <a class="uk-accordion-title me-accordion-title uk-padding-small" href="#">Step 2: Total
                            Compensation Breakdown</a>
                        <div class="uk-accordion-content me-accordion-content uk-padding-small">
                            <div class="uk-grid-small uk-child-width-expand uk-grid-divider" uk-grid>
                                <div class="uk-width-1-1">
                                    <div class="uk-grid-small uk-child-width-expand" uk-grid>
                                        <div>
                                            <div class="">
                                                <div class="me-name-hdr text-primary">

                                                </div>
                                                <div id="emailInput">

                                                </div>
                                            </div>
                                        </div>
                                        <div class="uk-width-auto">
                                            <div class="">
                                                <table
                                                    class="uk-table uk-table-middle uk-table-responsive uk-table-small">
                                                    <tbody>
                                                        <tr>
                                                            <td class="uk-text-bold uk-text-small table-padding-right">
                                                                Viewed
                                                            </td>
                                                            <td class="uk-text-small">

                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="uk-text-bold uk-text-small table-padding-right">
                                                                Status
                                                            </td>
                                                            <td id="statusColl" class="uk-text-small">

                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="uk-text-bold uk-text-small table-padding-right">
                                                                Locality
                                                            </td>
                                                            <td id="localityColl" class="uk-text-small">

                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="uk-text-bold uk-text-small table-padding-right">
                                                                Retirement Plan
                                                            </td>
                                                            <td id="retirementColl" class="uk-text-small">

                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="uk-text-bold uk-text-small table-padding-right">
                                                                Benefits Class
                                                            </td>
                                                            <td id="classColl" class="uk-text-small">

                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-width-1-1">
                                    <dl class="uk-description-list">
                                        <dt>Welcome!</dt>
                                        <dd>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</dd>
                                        <dt>Disclaimer</dt>
                                        <dd>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                                            tempor incididunt ut labore et dolore magna aliqua.</dd>
                                    </dl>
                                </div>
                                <div class="uk-width-1-1">
                                    <div class="uk-width-auto uk-display-inline-block">
                                        <div class="me-check-cont uk-padding-small">
                                            <input class="uk-checkbox" id="disclaimerCheck" type="checkbox">
                                            <label class="uk-margin-remove-bottom me-label-check"> I accept this
                                                disclaimer</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-width-1-1">
                                    <div class="uk-grid-small" uk-grid>
                                        <div class="uk-width-1-1">
                                            <div class="uk-grid-small uk-child-width-expand" uk-grid>
                                                <div>
                                                    <div class="uk-card uk-card-body uk-card-default">

                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="uk-card uk-card-body uk-card-default">

                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="uk-card uk-card-body uk-card-default">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="uk-width-1-1">
                                            <div class="uk-grid-small uk-child-width-expand" uk-grid>
                                                <div class="uk-width-2-5@m">
                                                    <div class="uk-grid-small uk-child-width-expand" uk-grid>
                                                        <div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="uk-width-3-5@m">
                                                    <div class="uk-grid-small uk-child-width-expand" uk-grid>
                                                        <div class="uk-width-1-1">
                                                            <button id="famSwitch" type="button" @click="familySwitch()" class="uk-button uk-border-pill uk-width-expand uk-button-primary">
                                                                Switch Benefit Level - Currently Showing <span class="uk-text-bold">{{ state }}</span>
                                                            </button>
                                                        </div>
                                                        <div id="ratesTable" class="me-table-border uk-width-1-1">
                                                            <table class="uk-table uk-table-divider">
                                                                <thead>
                                                                    <tr>
                                                                        <th>
                                                                            Plans
                                                                        </th>
                                                                        <th>
                                                                            Benefit Level
                                                                        </th>
                                                                        <th>
                                                                            Total Premium Biweekly
                                                                        </th>
                                                                        <th>
                                                                            Employee Contribution Biweekly
                                                                        </th>
                                                                        <th>
                                                                            Agency Contribution Weekly
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr v-for="items in compContributions"
                                                                        class=" uk-animation-fade">
                                                                        <td>
                                                                            {{ items.Plan }} - {{ items.Option }}
                                                                        </td>
                                                                        <td>
                                                                            {{ items.Tier }}
                                                                        </td>
                                                                        <td>
                                                                            ${{ items.ee_cost }}
                                                                        </td>
                                                                        <td>
                                                                            ${{ items.er_cost }}
                                                                        </td>
                                                                        <td>
                                                                            ${{ items.total_cost }}
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                        <!-- <div class="me-table-border uk-width-1-1">
                                                            <table class="uk-table uk-table-divider">
                                                                <thead>
                                                                    <tr>
                                                                        <th>
                                                                            Plans
                                                                        </th>
                                                                        <th>
                                                                            Benefit Level
                                                                        </th>
                                                                        <th>
                                                                            Total Premium Biweekly
                                                                        </th>
                                                                        <th>
                                                                            Employee Contribution Biweekly
                                                                        </th>
                                                                        <th>
                                                                            Agency Contribution Weekly
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr v-for="items in compContributionsFamily">
                                                                        <td>
                                                                            {{ items.Plan }} - {{ items.Option }}
                                                                        </td>
                                                                        <td>
                                                                            {{ items.Tier }}
                                                                        </td>
                                                                        <td>
                                                                            {{ items.ee_cost }}
                                                                        </td>
                                                                        <td>
                                                                            {{ items.er_cost }}
                                                                        </td>
                                                                        <td>
                                                                            {{ items.total_cost }}
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </li>

                </ul>
            </div>
        </div>
    </div>
    <script>
        $("input[data-type='currency']").on({
            keyup: function () {
                formatCurrency($(this));
            },
            blur: function () {
                formatCurrency($(this), "blur");
            }
        });


        function formatNumber(n) {
            // format number 1000000 to 1,234,567
            return n.replace(/\D/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ",")
        }


        function formatCurrency(input, blur) {
            // appends $ to value, validates decimal side
            // and puts cursor back in right position.

            // get input value
            var input_val = input.val();

            // don't validate empty input
            if (input_val === "") {
                return;
            }

            // original length
            var original_len = input_val.length;

            // initial caret position 
            var caret_pos = input.prop("selectionStart");

            // check for decimal
            if (input_val.indexOf(".") >= 0) {

                // get position of first decimal
                // this prevents multiple decimals from
                // being entered
                var decimal_pos = input_val.indexOf(".");

                // split number by decimal point
                var left_side = input_val.substring(0, decimal_pos);
                var right_side = input_val.substring(decimal_pos);

                // add commas to left side of number
                left_side = formatNumber(left_side);

                // validate right side
                right_side = formatNumber(right_side);

                // On blur make sure 2 numbers after decimal
                if (blur === "blur") {
                    right_side += "00";
                }

                // Limit decimal to only 2 digits
                right_side = right_side.substring(0, 2);

                // join number by .
                input_val = "$" + left_side + "." + right_side;

            } else {
                // no decimal entered
                // add commas to number
                // remove all non-digits
                input_val = formatNumber(input_val);
                input_val = "$" + input_val;

                // final formatting
                if (blur === "blur") {
                    input_val += ".00";
                }
            }

            // send updated string to input
            input.val(input_val);

            // put caret back in the right position
            var updated_len = input_val.length;
            caret_pos = updated_len - original_len + caret_pos;
            input[0].setSelectionRange(caret_pos, caret_pos);
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="./js/vue_components.js"></script>
    <script src="./js/addl_scripts.js"></script>

</body>

</html>